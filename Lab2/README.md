# Лабораторная работа 2 (Вариант 22)

# Приложение для расчета стоимости рецепта для пациента, а также запасов лекарств

Данное приложение позволяет рассчитывать стоимость рецепта и общее количество лекарств, как в рецепте, так и в целом в аптеке. В нем абстрактный класс 'Pharmacy', который содержит два абстрактных метода для расчетов. Данный класс наследуют следующие классы: 'Pacient', 'Preparation' и 'Recipe'

## Инструкция по работе с кодом
Для запуска основного меню выполните следующие шаги:
1. Установите необходимые библиотеки (`pip install -r requirements.txt`).
2. Скопируйте файл с кодом в ваш проект.
3. Запустите приложение с помощью команды `python main.py`.

## Справка по классам в коде
### Абстрактный класс Pharmacy
Данный класс определяет общие методы для всех остальных классов:
- `calculate_cost` и `calculate_stock`: Эти методы объявлены с помощью декоратора @abstractmethod, что означает, что они должны быть реализованы в любом классе, наследующем от Pharmacy. Сами методы в абстрактном классе не имеют реализации.

### Класс Pacient
Класс Pacient представляет собой объект, описывающий пациента в аптеке. Он наследуется от абстрактного класса Pharmacy и включает в себя следующие атрибуты и методы:
- 'name': Имя пациента. Это свойство обеспечивает проверку типа данных, гарантируя, что имя является строкой.
- __init__(self, name: str): Конструктор класса, инициализирующий атрибут name.
- __str__(): Метод, возвращающий строковое представление объекта, содержащее ФИО пациента.

```python
    pacient = Pacient("Иван Иванов Иванович")
```

### Класс Preparation
Класс Preparation представляет собой объект, описывающий лекарство. Он наследуется от абстрактного класса Pharmacy и включает в себя следующие атрибуты и методы:
- 'name': Название лекарства. Это свойство обеспечивает проверку типа данных, гарантируя, что название является строкой
- 'price': Цена лекарства. Это свойство обеспечивает проверку типа данных, гарантируя, что цена является вещественным числом.
- 'quantity' : Количество лекарства в аптеке. Это свойство обеспечивает проверку типа данных, гарантируя, что кол-во является целым числом.
- __init__(name: str, price : float, quantity : int): Конструктор класса, инициализирующий атрибуты name, price, quantity.
- calculate_cost(): Метод, возвращающий общую стоимость всех лекарств одного типа.
- get_total_quantity(): Метод, возвращающий общее количество всех лекарств, рассчитывающий запасы лекарств.
- __str__(): Метод, возвращающий строковое представление объекта, содержащее название лекарства, его стоимость за 1 шт, количество лекарства, а также стоимость всех лекарств этого типа.

```python
    Preparation = Preparation("Лоперамид", 99.99, 100)
```
### Класс Recipe
Класс Recipe представляет собой объект, описывающий рецепт, выданный пациенту со списком лекарств. Он наследуется от абстрактного класса Pharmacy и включает в себя следующие атрибуты и методы:
- pacient: Объект класса Pacient, представляющий пациента. Это свойство обеспечивает проверку типа данных, гарантируя, что значение является экземпляром класса Pacient.
- preparations: Список объектов класса Prepartion, представляющий список лекарств. Это свойство также проверяет, что значение является экземпляром класса Preparation.
- __init__(pacient: Pacient, preparations: List[Preparation] = None): Конструктор класса, инициализирующий атрибуты pacient, praparations.
- calculate_cost(): Метод, рассчитывающий и возвращающий стоимость конкретного рецепта для конкретного пациента.
- calculate_stock(): Метод, рассчитывающий и возвращающий количество препаратов в данном рецепте
- __str__(): Метод, возвращающий строковое представление объекта, содержащее пациента и список лекарств из рецепта для него.

```python
    pacient("Иванов Иван Иванович")
    preparations(("Лоперамид", 99.99, 100), ("Нурофен", 149.99, 52))
    Recipe = Recipe(pacient, preparations)
```

## Меню (main.py)

### Функция main()
В этой функции реализовано меню для простой и удобной работы с классами. Пользователь выбирает один из предоставленных ему пунктов и в зависимости от выбора создает объект одного из 3х классов или подсчитывает стоимость и запасы уже существующих экземпляров класса.

### Функция save_docs()
Данная функция принимает в себя объект, который выведется в document.docs по желанию пользователя (надо написать "Yes" когда программа спрашивает о сохранении файла)

## Тестирование
Для тестирования создан специальный отдельный файл 'pytests.py', который проверяет на ошибки методы классов и работу самих классов. Также есть тесты на неправильных данных. Всего 25 тестов.